(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{16:function(e,t,n){e.exports=n(41)},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),u=n(10),o=n.n(u),l=n(11),c=n(12),i=n(14),m=n(13),s=n(15),d=n(2),h=n.n(d),f="/api/persons",p={getAll:function(){return h.a.get(f).then(function(e){return e.data})},create:function(e){return h.a.post(f,e).then(function(e){return e.data})},update:function(e,t){return h.a.put("".concat(f,"/").concat(e),t).then(function(e){return e.data})},remove:function(e){return h.a.delete("".concat(f,"/").concat(e)).then(function(e){return e.data})}},v=function(e){var t=e.persons,n=e.onc;return r.a.createElement("div",null,r.a.createElement("h2",null,"Numerot"),r.a.createElement("table",{stlye:{borderSpacing:"2px"}},r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.name," "),r.a.createElement("td",{style:{marginRight:"2px"}},e.number," "),r.a.createElement("td",null,r.a.createElement("button",{name:e.name,id:e.id,onClick:n},"poista")))}))))},b=function(e){var t=e.submit,n=e.nameval,a=e.namechange,u=e.numval,o=e.numchange;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:t},r.a.createElement("div",null,"nimi:",r.a.createElement("input",{value:n,onChange:a})),r.a.createElement("div",null,"numero:",r.a.createElement("input",{value:u,onChange:o})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4"))))},g=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(i.a)(this,Object(m.a)(t).call(this,e))).removePerson=function(e){var t=e.target.getAttribute("id"),a=e.target.getAttribute("name");window.confirm("Delete "+a+"?")&&p.remove(t).then(function(e){n.setState({persons:n.state.persons.filter(function(e){return e.id.toString()!==t})})}).catch(function(e){console.log("couldn't remove"),p.getAll().then(function(e){return n.setState({persons:e,newName:"",newNumber:""})})})},n.addPerson=function(e){if(e.preventDefault(),n.state.persons.some(function(e){return e.name===n.state.newName}))alert("Nimi "+n.state.newName+" jo luettelossa");else{var t={name:n.state.newName,number:n.state.newNumber};p.create(t).then(function(e){n.setState({persons:n.state.persons.concat(e),newName:"",newNumber:""})})}},n.handleNameChange=function(e){n.setState({newName:e.target.value})},n.handleNumChange=function(e){n.setState({newNumber:e.target.value})},n.state={persons:[{name:"Arto Hellas",number:"not_specified",id:0}],newName:"",newNumber:""},n}return Object(s.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;p.getAll().then(function(t){e.setState({persons:t})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(b,{submit:this.addPerson,namechange:this.handleNameChange,numchange:this.handleNumChange,nameval:this.state.newName,numval:this.state.newNumber}),r.a.createElement(v,{persons:this.state.persons,onc:this.removePerson}))}}]),t}(a.Component);o.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.ce08d984.chunk.js.map